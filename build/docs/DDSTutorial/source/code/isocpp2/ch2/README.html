<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
</head>
<body>
<h2 id="chapter-1-code-example">Chapter 1 Code Example</h2>
<p>This folder contains the full source for the example shown in the first chapter of the tutorial.</p>
<p>The example shows how to create a simple application that produces TempSensorType information and another that consumes it.</p>
<h2 id="compiling-the-example">Compiling the example</h2>
<p>To compile the example you need:</p>
<ul>
<li>g++ v4.6 or higher (clang++ would also be fine)</li>
<li>CMake v2.6 or higher</li>
<li><a href="http://www.opensplice.org">OpenSplice DDS</a> v6.4 or higher</li>
</ul>
<p>Once you have installed the required tools simply do:</p>
<pre><code> $ cmake .
 $ make</code></pre>
<h2 id="running-the-examples">Running the Examples</h2>
<p>First start one or more temperature sensors (e.g. producers):</p>
<pre><code> $ ./tspub 0</code></pre>
<p>This will start producing data.</p>
<p>Then start the consumer:</p>
<pre><code> $ ./tssub 
 USAGE:
tssub &lt;filter-expression&gt;</code></pre>
<p>Where the <code>filter-expression</code> should have the same syntax of a SQL WHERE clause. For instance, if you were interested in getting the data only when the temperature was higher than 28.0 C and the humidity higher than 0.65 then you could run the application as follows:</p>
<pre><code>   ./tssub &quot;temp &gt; 28.0 AND hum &gt; 0.65&quot;
   (id = 0, temp = 29.2647, hum = 0.669657, scale = C)
   (id = 0, temp = 28.5219, hum = 0.742885, scale = C)
   (id = 0, temp = 28.6268, hum = 0.665124, scale = C)
   (id = 0, temp = 28.7411, hum = 0.664452, scale = C)
   (id = 0, temp = 28.1886, hum = 0.670146, scale = C)
   (id = 0, temp = 29.9059, hum = 0.726814, scale = C)
   (id = 0, temp = 29.9059, hum = 0.726814, scale = C)
   (id = 0, temp = 29.9059, hum = 0.726814, scale = C)
   (id = 0, temp = 29.7783, hum = 0.730949, scale = C)
   (id = 0, temp = 29.7783, hum = 0.730949, scale = C)</code></pre>
<p>As you can see only the data matching the filter is being recevied in this case. You can try different filters to experiment and refine your understanding. Recall that the syntax that you can use is the same as the one of SQL WHERE statements.</p>
</body>
</html>
